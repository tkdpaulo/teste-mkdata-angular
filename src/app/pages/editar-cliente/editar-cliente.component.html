<div class="astro-clientes">
  <h1>Editar Cliente</h1>

  <form [formGroup]="form" (ngSubmit)="onSubmit()">
    <!-- Campos do cliente -->
    <div class="form-group">
      <label for="nome">Nome:</label>
      <input type="text" id="nome" formControlName="nome" minlength="5" maxlength="50" required>
    </div>
    <div class="form-group">
      <label for="tipo">Tipo:</label>
      <select formControlName="tipo" id="tipo" class="form-control">
        <option value="PF">Pessoa Física</option>
        <option value="PJ">Pessoa Jurídica</option>
      </select>
    </div>
    <div class="form-group">
      <label for="cpfCnpj">CPF/CPNJ:</label>
      <input type="text" id="cpfCnpj" formControlName="cpfCnpj" [ngClass]="{'cpf': isCpf(), 'cnpj': isCnpj()}" [mask]="isCpf() ? '000.000.000-09' : '00.000.000/0000-00'" required>
    </div>
    <div class="form-group">
      <label for="rgIe">RG/IE:</label>
      <input type="text" id="rgIe" formControlName="rgIe" minlength="5" maxlength="14" required>
    </div>
    <div class="form-group">
      <label for="ativo">Ativo:</label>
      <input type="checkbox" id="ativo" formControlName="ativo" required>
    </div>

    <!-- Telefones -->
    <div class="form-group" formArrayName="telefones">
      <div *ngFor="let telefone of telefones.controls; let i = index" [formGroupName]="i">
        <div class="telefone">
          <label for="ddd-{{i}}">DDD:</label>
          <input type="text" id="ddd-{{i}}" formControlName="ddd" minlength="2" maxlength="2" >
          <label for="numero-{{i}}">Número:</label>
          <input type="text" id="numero-{{i}}" formControlName="numero" [mask]="'0000-0000'" required>
          <button type="button" class="btn-remover-telefone" (click)="removeTelefone(i)">Remover telefone</button>
        </div>
      </div>
      <button type="button" class="btn-adicionar-telefone" (click)="addTelefone()">Adicionar telefone</button>
    </div>

    <div class="buttons">
      <button type="button" class="btn-voltar" (click)="voltar()">Voltar</button>
      <button type="submit" class="btn-salvar">Salvar</button>
    </div>
  </form>
</div>
